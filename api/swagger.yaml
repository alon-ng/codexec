components:
  schemas:
    auth.LoginRequest:
      properties:
        email:
          example: john.doe@example.com
          type: string
        password:
          example: password
          type: string
      required:
      - email
      - password
      type: object
    auth.SignupRequest:
      properties:
        email:
          example: john.doe@example.com
          type: string
        first_name:
          example: John
          type: string
        last_name:
          example: Doe
          type: string
        password:
          example: password
          type: string
      required:
      - email
      - first_name
      - last_name
      - password
      type: object
    courses.AddCourseTranslationRequest:
      properties:
        bullets:
          example: |-
            Aprende lo básico
            Practica ejercicios
          type: string
        course_uuid:
          type: string
        description:
          example: Aprende los fundamentos de Python
          type: string
        language:
          example: es
          type: string
        name:
          example: Introducción a Python
          type: string
      required:
      - course_uuid
      - description
      - language
      - name
      type: object
    courses.CourseFull:
      properties:
        created_at:
          type: string
        deleted_at:
          type: string
        difficulty:
          example: 1
          type: integer
        discount:
          example: 0
          type: integer
        is_active:
          example: true
          type: boolean
        lessons:
          items:
            $ref: '#/components/schemas/lessons.LessonFull'
          type: array
          uniqueItems: false
        modified_at:
          type: string
        price:
          example: 99
          type: integer
        subject:
          example: Programming
          type: string
        translation:
          $ref: '#/components/schemas/courses.CourseTranslation'
        uuid:
          type: string
      required:
      - created_at
      - modified_at
      - price
      - subject
      - translation
      - uuid
      type: object
    courses.CourseTranslation:
      properties:
        bullets:
          example: |-
            Learn basics
            Practice exercises
          type: string
        course_uuid:
          type: string
        description:
          example: Learn Python basics
          type: string
        language:
          example: en
          type: string
        name:
          example: Introduction to Python
          type: string
        uuid:
          type: string
      required:
      - course_uuid
      - description
      - language
      - name
      - uuid
      type: object
    courses.CourseWithTranslation:
      properties:
        created_at:
          type: string
        deleted_at:
          type: string
        difficulty:
          example: 1
          type: integer
        discount:
          example: 0
          type: integer
        is_active:
          example: true
          type: boolean
        modified_at:
          type: string
        price:
          example: 99
          type: integer
        subject:
          example: Programming
          type: string
        translation:
          $ref: '#/components/schemas/courses.CourseTranslation'
        uuid:
          type: string
      required:
      - created_at
      - modified_at
      - price
      - subject
      - translation
      - uuid
      type: object
    courses.CreateCourseRequest:
      properties:
        bullets:
          example: |-
            Learn basics
            Practice exercises
          type: string
        description:
          example: Learn Python basics
          type: string
        difficulty:
          example: 1
          type: integer
        discount:
          example: 0
          type: integer
        is_active:
          example: true
          type: boolean
        language:
          example: en
          type: string
        name:
          example: Introduction to Python
          type: string
        price:
          example: 99
          type: integer
        subject:
          example: Programming
          type: string
      required:
      - description
      - language
      - name
      - price
      - subject
      type: object
    courses.IDRequest:
      properties:
        uuid:
          type: string
      required:
      - uuid
      type: object
    courses.UpdateCourseRequest:
      properties:
        bullets:
          example: |-
            Learn basics
            Practice exercises
          type: string
        description:
          example: Learn Python basics
          type: string
        difficulty:
          example: 1
          type: integer
        discount:
          example: 0
          type: integer
        is_active:
          example: true
          type: boolean
        language:
          example: en
          type: string
        name:
          example: Introduction to Python
          type: string
        price:
          example: 99
          type: integer
        subject:
          example: Programming
          type: string
        uuid:
          type: string
      required:
      - language
      - uuid
      type: object
    db.ExerciseTranslation:
      properties:
        description:
          type: string
        exercise_uuid:
          type: string
        language:
          type: string
        name:
          type: string
        uuid:
          type: string
      type: object
    db.ExerciseType:
      enum:
      - quiz
      - code
      type: string
      x-enum-varnames:
      - ExerciseTypeQuiz
      - ExerciseTypeCode
    db.ExerciseWithTranslation:
      properties:
        created_at:
          type: string
        data:
          type: object
        deleted_at:
          type: string
        lesson_uuid:
          type: string
        modified_at:
          type: string
        order_index:
          type: integer
        reward:
          type: integer
        translation:
          $ref: '#/components/schemas/db.ExerciseTranslation'
        type:
          $ref: '#/components/schemas/db.ExerciseType'
        uuid:
          type: string
      type: object
    db.LessonTranslation:
      properties:
        description:
          type: string
        language:
          type: string
        lesson_uuid:
          type: string
        name:
          type: string
        uuid:
          type: string
      type: object
    db.LessonWithTranslation:
      properties:
        course_uuid:
          type: string
        created_at:
          type: string
        deleted_at:
          type: string
        is_public:
          type: boolean
        modified_at:
          type: string
        order_index:
          type: integer
        translation:
          $ref: '#/components/schemas/db.LessonTranslation'
        uuid:
          type: string
      type: object
    db.User:
      properties:
        created_at:
          type: string
        deleted_at:
          type: string
        email:
          type: string
        first_name:
          type: string
        is_admin:
          type: boolean
        is_verified:
          type: boolean
        last_name:
          type: string
        modified_at:
          type: string
        password_hash:
          type: string
        score:
          type: integer
        streak:
          type: integer
        uuid:
          type: string
      type: object
    errors.ErrorResponse:
      properties:
        code:
          example: VALIDATION_ERROR
          type: string
        error:
          example: Error message describing what went wrong
          type: string
      type: object
    exercises.AddExerciseTranslationRequest:
      properties:
        description:
          example: Imprime Hola Mundo
          type: string
        exercise_uuid:
          type: string
        language:
          example: es
          type: string
        name:
          example: Hola Mundo
          type: string
      required:
      - description
      - exercise_uuid
      - language
      - name
      type: object
    exercises.CreateExerciseRequest:
      properties:
        data:
          additionalProperties: {}
          type: object
        description:
          example: Print Hello World
          type: string
        language:
          example: en
          type: string
        lesson_uuid:
          type: string
        name:
          example: Hello World
          type: string
        order_index:
          example: 1
          type: integer
        reward:
          example: 10
          type: integer
        type:
          $ref: '#/components/schemas/db.ExerciseType'
      required:
      - data
      - description
      - language
      - lesson_uuid
      - name
      - order_index
      - reward
      - type
      type: object
    exercises.ExerciseTranslation:
      properties:
        description:
          example: Print Hello World
          type: string
        exercise_uuid:
          type: string
        language:
          example: en
          type: string
        name:
          example: Hello World
          type: string
        uuid:
          type: string
      required:
      - description
      - exercise_uuid
      - language
      - name
      - uuid
      type: object
    exercises.ExerciseWithTranslation:
      properties:
        created_at:
          type: string
        data:
          type: object
        deleted_at:
          type: string
        lesson_uuid:
          type: string
        modified_at:
          type: string
        order_index:
          example: 1
          type: integer
        reward:
          example: 10
          type: integer
        translation:
          $ref: '#/components/schemas/exercises.ExerciseTranslation'
        type:
          $ref: '#/components/schemas/db.ExerciseType'
        uuid:
          type: string
      required:
      - created_at
      - data
      - lesson_uuid
      - modified_at
      - order_index
      - reward
      - translation
      - type
      - uuid
      type: object
    exercises.IDRequest:
      properties:
        uuid:
          type: string
      required:
      - uuid
      type: object
    exercises.UpdateExerciseRequest:
      properties:
        data:
          additionalProperties: {}
          type: object
        description:
          example: Print Hello World
          type: string
        language:
          example: en
          type: string
        lesson_uuid:
          example: 123e4567-e89b-12d3-a456-426614174000
          type: string
        name:
          example: Hello World
          type: string
        order_index:
          example: 1
          type: integer
        reward:
          example: 10
          type: integer
        type:
          $ref: '#/components/schemas/db.ExerciseType'
        uuid:
          type: string
      required:
      - language
      - uuid
      type: object
    lessons.AddLessonTranslationRequest:
      properties:
        description:
          example: Aprende los fundamentos de Python
          type: string
        language:
          example: es
          type: string
        lesson_uuid:
          type: string
        name:
          example: Fundamentos de Python
          type: string
      required:
      - description
      - language
      - lesson_uuid
      - name
      type: object
    lessons.CreateLessonRequest:
      properties:
        course_uuid:
          type: string
        description:
          example: Learn Python fundamentals
          type: string
        is_public:
          example: false
          type: boolean
        language:
          example: en
          type: string
        name:
          example: Python Basics
          type: string
        order_index:
          example: 1
          type: integer
      required:
      - course_uuid
      - description
      - language
      - name
      - order_index
      type: object
    lessons.IDRequest:
      properties:
        uuid:
          type: string
      required:
      - uuid
      type: object
    lessons.LessonFull:
      properties:
        course_uuid:
          type: string
        created_at:
          type: string
        deleted_at:
          type: string
        exercises:
          items:
            $ref: '#/components/schemas/exercises.ExerciseWithTranslation'
          type: array
          uniqueItems: false
        is_public:
          example: false
          type: boolean
        modified_at:
          type: string
        order_index:
          example: 1
          type: integer
        translation:
          $ref: '#/components/schemas/lessons.LessonTranslation'
        uuid:
          type: string
      required:
      - course_uuid
      - created_at
      - modified_at
      - order_index
      - translation
      - uuid
      type: object
    lessons.LessonTranslation:
      properties:
        description:
          example: Learn Python fundamentals
          type: string
        language:
          example: en
          type: string
        lesson_uuid:
          type: string
        name:
          example: Python Basics
          type: string
        uuid:
          type: string
      required:
      - description
      - language
      - lesson_uuid
      - name
      - uuid
      type: object
    lessons.LessonWithTranslation:
      properties:
        course_uuid:
          type: string
        created_at:
          type: string
        deleted_at:
          type: string
        is_public:
          example: false
          type: boolean
        modified_at:
          type: string
        order_index:
          example: 1
          type: integer
        translation:
          $ref: '#/components/schemas/lessons.LessonTranslation'
        uuid:
          type: string
      required:
      - course_uuid
      - created_at
      - modified_at
      - order_index
      - translation
      - uuid
      type: object
    lessons.UpdateLessonRequest:
      properties:
        description:
          example: Learn Python fundamentals
          type: string
        is_public:
          example: false
          type: boolean
        language:
          example: en
          type: string
        name:
          example: Python Basics
          type: string
        order_index:
          example: 1
          type: integer
        uuid:
          type: string
      required:
      - language
      - uuid
      type: object
    me.UserCourseFull:
      properties:
        completed_at:
          type: string
        course_uuid:
          type: string
        is_completed:
          example: false
          type: boolean
        last_accessed_at:
          type: string
        lessons:
          items:
            $ref: '#/components/schemas/me.UserLessonStatus'
          type: array
          uniqueItems: false
        started_at:
          type: string
      required:
      - course_uuid
      type: object
    me.UserCourseWithProgress:
      properties:
        completed_exercises:
          example: 5
          type: integer
        created_at:
          type: string
        deleted_at:
          type: string
        difficulty:
          example: 1
          type: integer
        discount:
          example: 0
          type: integer
        is_active:
          example: true
          type: boolean
        modified_at:
          type: string
        next_exercise_name:
          type: string
        next_exercise_uuid:
          type: string
        next_lesson_name:
          type: string
        next_lesson_uuid:
          type: string
        price:
          example: 99
          type: integer
        subject:
          example: Programming
          type: string
        total_exercises:
          example: 10
          type: integer
        translation:
          $ref: '#/components/schemas/courses.CourseTranslation'
        user_course_completed_at:
          type: string
        user_course_last_accessed_at:
          type: string
        user_course_started_at:
          type: string
        uuid:
          type: string
      required:
      - completed_exercises
      - created_at
      - modified_at
      - price
      - subject
      - total_exercises
      - translation
      - user_course_started_at
      - uuid
      type: object
    me.UserExercise:
      properties:
        attempts:
          example: 0
          type: integer
        completed_at:
          type: string
        exercise_uuid:
          type: string
        last_accessed_at:
          type: string
        started_at:
          type: string
        submission:
          type: object
        user_uuid:
          type: string
        uuid:
          type: string
      required:
      - attempts
      - exercise_uuid
      - started_at
      - user_uuid
      - uuid
      type: object
    me.UserExerciseStatus:
      properties:
        completed_at:
          type: string
        exercise_uuid:
          type: string
        is_completed:
          example: false
          type: boolean
        last_accessed_at:
          type: string
        started_at:
          type: string
      required:
      - exercise_uuid
      type: object
    me.UserLessonStatus:
      properties:
        completed_at:
          type: string
        exercises:
          items:
            $ref: '#/components/schemas/me.UserExerciseStatus'
          type: array
          uniqueItems: false
        is_completed:
          example: false
          type: boolean
        last_accessed_at:
          type: string
        lesson_uuid:
          type: string
        started_at:
          type: string
      required:
      - lesson_uuid
      type: object
    users.CreateUserRequest:
      properties:
        email:
          example: john.doe@example.com
          type: string
        first_name:
          example: John
          type: string
        is_admin:
          example: false
          type: boolean
        is_verified:
          example: false
          type: boolean
        last_name:
          example: Doe
          type: string
        password:
          example: password
          type: string
      required:
      - email
      - first_name
      - last_name
      - password
      type: object
    users.IDRequest:
      properties:
        uuid:
          type: string
      required:
      - uuid
      type: object
    users.UpdateUserRequest:
      properties:
        first_name:
          example: John
          type: string
        last_name:
          example: Doe
          type: string
        uuid:
          type: string
      required:
      - uuid
      type: object
    users.User:
      properties:
        created_at:
          type: string
        deleted_at:
          type: string
        email:
          example: john.doe@example.com
          type: string
        first_name:
          example: John
          type: string
        is_admin:
          example: false
          type: boolean
        is_verified:
          example: false
          type: boolean
        last_name:
          example: Doe
          type: string
        modified_at:
          type: string
        score:
          example: 0
          type: integer
        streak:
          example: 0
          type: integer
        uuid:
          type: string
      required:
      - created_at
      - email
      - first_name
      - last_name
      - modified_at
      - uuid
      type: object
  securitySchemes:
    CookieAuth:
      description: Authentication is performed via HTTP-only cookie named "auth_token"
        containing a JWT token. The cookie is automatically set on successful signup/login
        and cleared on logout.
      in: cookie
      name: auth_token
      type: apiKey
externalDocs:
  description: ""
  url: ""
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: This is the Codim API server.
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Codim API
  version: "1.0"
openapi: 3.1.0
paths:
  /auth/login:
    post:
      description: Login a user. The authentication cookie (auth_token) is automatically
        set in the response.
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/auth.LoginRequest'
                description: Login request
                summary: request
        description: Login request
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                type: object
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Login a user
      tags:
      - auth
  /auth/logout:
    post:
      description: Logout a user by clearing the authentication cookie
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
          description: OK
      summary: Logout a user
      tags:
      - auth
  /auth/signup:
    post:
      description: Signup a new user. The authentication cookie (auth_token) is automatically
        set in the response.
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/auth.SignupRequest'
                description: Signup request
                summary: request
        description: Signup request
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                type: object
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Signup a new user
      tags:
      - auth
  /courses:
    get:
      description: Get a paginated list of courses, optionally filtered by subject
      parameters:
      - description: 'Limit (default: 10)'
        in: query
        name: limit
        schema:
          default: 10
          type: integer
      - description: 'Offset (default: 0)'
        in: query
        name: offset
        schema:
          default: 0
          type: integer
      - description: Filter by subject
        in: query
        name: subject
        schema:
          type: string
      - description: Filter by language
        example: en
        in: query
        name: language
        schema:
          default: en
          type: string
      - description: Filter by is_active
        example: true
        in: query
        name: is_active
        schema:
          default: true
          type: boolean
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/courses.CourseWithTranslation'
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: List courses
      tags:
      - courses
  /courses/{uuid}:
    get:
      description: Get a single course by UUID
      parameters:
      - description: Course UUID
        in: path
        name: uuid
        required: true
        schema:
          type: string
      - description: Language
        in: query
        name: language
        schema:
          default: en
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/courses.CourseFull'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Get a course by UUID
      tags:
      - courses
  /courses/add-translation:
    post:
      description: Add a new translation for an existing course
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/courses.AddCourseTranslationRequest'
                description: Translation data
                summary: translation
        description: Translation data
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/courses.CourseTranslation'
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Add a translation to an existing course
      tags:
      - courses
  /courses/create:
    post:
      description: Create a new course
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/courses.CreateCourseRequest'
                description: Course creation data
                summary: course
        description: Course creation data
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/courses.CourseWithTranslation'
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Create a new course
      tags:
      - courses
  /courses/delete/{uuid}:
    delete:
      description: Soft delete a course by UUID (sets deleted_at timestamp)
      parameters:
      - description: Course UUID
        in: path
        name: uuid
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Delete a course
      tags:
      - courses
  /courses/restore:
    post:
      description: Restore a soft-deleted course by UUID (sets deleted_at to NULL)
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/courses.IDRequest'
                description: Course UUID
                summary: course
        description: Course UUID
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Restore a deleted course
      tags:
      - courses
  /courses/update:
    put:
      description: Update an existing course by UUID
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/courses.UpdateCourseRequest'
                description: Course update data
                summary: course
        description: Course update data
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/courses.CourseWithTranslation'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Update a course
      tags:
      - courses
  /exercises:
    get:
      description: Get a paginated list of exercises, optionally filtered by lesson
        UUID
      parameters:
      - description: 'Limit (default: 10)'
        in: query
        name: limit
        schema:
          default: 10
          type: integer
      - description: 'Offset (default: 0)'
        in: query
        name: offset
        schema:
          default: 0
          type: integer
      - description: Filter by lesson UUID
        in: query
        name: lesson_uuid
        schema:
          type: string
      - description: Filter by language
        in: query
        name: language
        schema:
          default: en
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/exercises.ExerciseWithTranslation'
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: List exercises
      tags:
      - exercises
  /exercises/{uuid}:
    get:
      description: Get a single exercise by UUID
      parameters:
      - description: Exercise UUID
        in: path
        name: uuid
        required: true
        schema:
          type: string
      - description: Language
        example: en
        in: query
        name: language
        schema:
          default: en
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/db.ExerciseWithTranslation'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Get an exercise by UUID
      tags:
      - exercises
  /exercises/add-translation:
    post:
      description: Add a new translation for an existing exercise
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/exercises.AddExerciseTranslationRequest'
                description: Translation data
                summary: translation
        description: Translation data
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/exercises.ExerciseTranslation'
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Add a translation to an existing exercise
      tags:
      - exercises
  /exercises/create:
    post:
      description: Create a new exercise
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/exercises.CreateExerciseRequest'
                description: Exercise creation data
                summary: exercise
        description: Exercise creation data
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/exercises.ExerciseWithTranslation'
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Create a new exercise
      tags:
      - exercises
  /exercises/delete/{uuid}:
    delete:
      description: Soft delete an exercise by UUID (sets deleted_at timestamp)
      parameters:
      - description: Exercise UUID
        in: path
        name: uuid
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Delete an exercise
      tags:
      - exercises
  /exercises/restore:
    post:
      description: Restore a soft-deleted exercise by UUID (sets deleted_at to NULL)
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/exercises.IDRequest'
                description: Exercise UUID
                summary: exercise
        description: Exercise UUID
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Restore a deleted exercise
      tags:
      - exercises
  /exercises/update:
    put:
      description: Update an existing exercise by UUID
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/exercises.UpdateExerciseRequest'
                description: Exercise update data
                summary: exercise
        description: Exercise update data
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/db.ExerciseWithTranslation'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Update an exercise
      tags:
      - exercises
  /lessons:
    get:
      description: Get a paginated list of lessons, optionally filtered by course
        UUID
      parameters:
      - description: 'Limit (default: 10)'
        in: query
        name: limit
        schema:
          default: 10
          type: integer
      - description: 'Offset (default: 0)'
        in: query
        name: offset
        schema:
          default: 0
          type: integer
      - description: Filter by course UUID
        in: query
        name: course_uuid
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/lessons.LessonWithTranslation'
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: List lessons
      tags:
      - lessons
  /lessons/{uuid}:
    get:
      description: Get a single lesson by UUID
      parameters:
      - description: Lesson UUID
        in: path
        name: uuid
        required: true
        schema:
          type: string
      - description: Language
        example: en
        in: query
        name: language
        schema:
          default: en
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/db.LessonWithTranslation'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Get a lesson by UUID
      tags:
      - lessons
  /lessons/add-translation:
    post:
      description: Add a new translation for an existing lesson
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/lessons.AddLessonTranslationRequest'
                description: Translation data
                summary: translation
        description: Translation data
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/lessons.LessonTranslation'
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Add a translation to an existing lesson
      tags:
      - lessons
  /lessons/create:
    post:
      description: Create a new lesson
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/lessons.CreateLessonRequest'
                description: Lesson creation data
                summary: lesson
        description: Lesson creation data
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/lessons.LessonWithTranslation'
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Create a new lesson
      tags:
      - lessons
  /lessons/delete/{uuid}:
    delete:
      description: Soft delete a lesson by UUID (sets deleted_at timestamp)
      parameters:
      - description: Lesson UUID
        in: path
        name: uuid
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Delete a lesson
      tags:
      - lessons
  /lessons/restore:
    post:
      description: Restore a soft-deleted lesson by UUID (sets deleted_at to NULL)
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/lessons.IDRequest'
                description: Lesson UUID
                summary: lesson
        description: Lesson UUID
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Restore a deleted lesson
      tags:
      - lessons
  /lessons/update:
    put:
      description: Update an existing lesson by UUID
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/lessons.UpdateLessonRequest'
                description: Lesson update data
                summary: lesson
        description: Lesson update data
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/lessons.LessonWithTranslation'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Update a lesson
      tags:
      - lessons
  /me:
    get:
      description: Get the current user from the JWT token
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/users.User'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Get the current user from the JWT token
      tags:
      - me
  /me/courses:
    get:
      description: List the user courses with progress
      parameters:
      - description: 'Limit (default: 10)'
        in: query
        name: limit
        schema:
          default: 10
          type: integer
      - description: 'Offset (default: 0)'
        in: query
        name: offset
        schema:
          default: 0
          type: integer
      - description: Filter by subject
        in: query
        name: subject
        schema:
          type: string
      - description: Filter by language
        example: en
        in: query
        name: language
        schema:
          default: en
          type: string
      - description: Filter by is_active
        example: true
        in: query
        name: is_active
        schema:
          default: true
          type: boolean
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/me.UserCourseWithProgress'
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: List the user courses with progress
      tags:
      - me
  /me/courses/{course_uuid}:
    get:
      description: Get the user course full
      parameters:
      - description: Course UUID
        in: path
        name: course_uuid
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/me.UserCourseFull'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Get the user course full
      tags:
      - me
  /me/exercises/{exercise_uuid}:
    get:
      description: Get the user exercise
      parameters:
      - description: Exercise UUID
        in: path
        name: exercise_uuid
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/me.UserExercise'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Get the user exercise
      tags:
      - me
  /users:
    get:
      description: Get a paginated list of users
      parameters:
      - description: 'Limit (default: 10)'
        in: query
        name: limit
        schema:
          default: 10
          type: integer
      - description: 'Offset (default: 0)'
        in: query
        name: offset
        schema:
          default: 0
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/users.User'
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: List users
      tags:
      - users
  /users/{uuid}:
    get:
      description: Get a single user by UUID
      parameters:
      - description: User UUID
        in: path
        name: uuid
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/db.User'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Get a user by UUID
      tags:
      - users
  /users/create:
    post:
      description: Create a new user (admin function, can set is_admin)
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/users.CreateUserRequest'
                description: User creation data
                summary: user
        description: User creation data
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/users.User'
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Create a new user
      tags:
      - users
  /users/delete/{uuid}:
    delete:
      description: Soft delete a user by UUID (sets deleted_at timestamp)
      parameters:
      - description: User UUID
        in: path
        name: uuid
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Delete a user
      tags:
      - users
  /users/restore:
    post:
      description: Restore a soft-deleted user by UUID (sets deleted_at to NULL)
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/users.IDRequest'
                description: User UUID
                summary: user
        description: User UUID
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Restore a deleted user
      tags:
      - users
  /users/update:
    put:
      description: Update an existing user by UUID
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
              - type: object
              - $ref: '#/components/schemas/users.UpdateUserRequest'
                description: User update data
                summary: user
        description: User update data
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/db.User'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      security:
      - CookieAuth: []
      summary: Update a user
      tags:
      - users
servers:
- url: localhost:8080/api/v1
